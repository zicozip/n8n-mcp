# smithery.yaml  (commit at repo root)
name: n8n-mcp
description: Self-hosted n8n docs & validation MCP

# 1) Tell Smithery how to build/run it (container runtime)
runtime: container
build:
  dockerfile: Dockerfile

# 2) Tell Smithery how to TALK to it once running
#    Streamable HTTP endpoint is POST /mcp; health is GET /health
startCommand:
  type: http
  path: /mcp
  health: /health
  # Smithery will attach these headers when scanning (from config below):
  headers:
    Authorization: "Bearer ${AUTH_TOKEN}"

# 3) Declare the config the “Connect” form should ask for (Session Config)
#    Smithery will render a form and persist it as your "test" profile.
configSchema:
  type: object
  required: [AUTH_TOKEN]
  properties:
    AUTH_TOKEN:
      type: string
      description: Bearer token required by the server
exampleConfig:
  AUTH_TOKEN: "paste-a-long-random-token-here"

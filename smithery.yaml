# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP
    type: object
    properties:
      N8N_API_URL:
        type: string
        description: Your n8n instance URL (optional - without this you'll only have documentation tools)
      N8N_API_KEY:
        type: string
        description: Your n8n API key (optional - required for workflow management features)
      LOG_LEVEL:
        type: string
        description: Logging level (error, warn, info, debug)
        default: "error"
        enum: ["error", "warn", "info", "debug"]
      DISABLE_CONSOLE_OUTPUT:
        type: string
        description: Disable console output for cleaner logs
        default: "true"
        enum: ["true", "false"]
      N8N_MCP_TELEMETRY_DISABLED:
        type: string
        description: Disable anonymous telemetry
        default: "false"
        enum: ["true", "false"]
  commandFunction:
    # A function that produces the CLI command to start the MCP on stdio
    |-
    (config) => ({
      command: 'npx',
      args: ['-y', 'n8n-mcp@latest'],
      env: {
        MCP_MODE: 'stdio',
        N8N_API_URL: config.N8N_API_URL,
        N8N_API_KEY: config.N8N_API_KEY,
        LOG_LEVEL: config.LOG_LEVEL || 'error',
        DISABLE_CONSOLE_OUTPUT: config.DISABLE_CONSOLE_OUTPUT || 'true',
        N8N_MCP_TELEMETRY_DISABLED: config.N8N_MCP_TELEMETRY_DISABLED || 'false'
      }
    })
  exampleConfig:
    LOG_LEVEL: "error"
    DISABLE_CONSOLE_OUTPUT: "true"
    N8N_MCP_TELEMETRY_DISABLED: "false"
